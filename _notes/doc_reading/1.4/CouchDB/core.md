
```bash
curl -X GET http://127.0.0.1:5984/_all_dbs
```

- `curl -vX ...`
- Fauxton, the built-in administration interface, provides full access to all of CouchDB’s features and makes it easy to work with some of the more complex ideas involved. With Fauxton we can create and destroy databases; view and edit documents; compose and run MapReduce views; and trigger replication between databases.
    - http://127.0.0.1:5984/_utils/
- `_rev` acts like a safety feature when saving a document. As long as you and CouchDB agree on the most recent `_rev` of a document, you can successfully save your changes.
- CouchDB uses predefined map and reduce functions in a style known as MapReduce. These functions provide great flexibility because they can adapt to variations in document structure, and indexes for each document can be computed independently and in parallel. The combination of a map and a reduce function is called a *view* in CouchDB terminology.
    - Rather than declaring which rows from which tables to include in a result set and depending on the database to determine the most efficient way to run the query,  reduce queries are based on simple range requests against the indexes generated by your map functions.
    - Map functions are called once with each document as the argument. The function can choose to skip the document altogether or emit one or more view rows as key/value pairs. Map functions may not depend on any information outside of the document. This independence is what allows CouchDB views to be generated incrementally and in parallel.
    - CouchDB views are stored as rows that are kept sorted by key. This makes retrieving data from a range of keys efficient even when there are thousands or millions of rows. 
    - When writing CouchDB map functions, your primary goal is to build an index that stores related data under nearby keys.
- `emit(key, value)`: see metadata
- CouchDB’s key sorting system allows any valid JSON object as a key.
- CouchDB recovers gracefully from a few isolated map function failures, but when a map function fails regularly (due to a missing required field or other JavaScript exception), CouchDB shuts off its indexing to prevent any further resource usage. For this reason, it’s important to check for the existence of any fields before you use them. 
- View rows are sorted by their keys – in this example, first by item, then by price. This method of complex sorting is at the heart of creating useful indexes with CouchDB.
- For the strict, CouchDB is a database management system (DMS). That means it can hold multiple databases. A database is a bucket that holds “related data”. 
- CouchDB stores each database in a single file.
- The `>` means the line was sent to CouchDB verbatim (without the actual `>`). The `<` means the line was sent back to curl by CouchDB.
- `curl -X GET http://127.0.0.1:5984/_uuids`, `curl -X GET http://127.0.0.1:5984/_uuids?count=10`
- `_id` holds the UUID we asked CouchDB to save our document under. 
- `_rev` stands for revision.
- If you want to change a document in CouchDB, you don’t tell it to go and find a field in a specific document and insert a new value. Instead, you load the full document out of CouchDB, make your changes in the JSON structure (or object, when you are doing actual programming), and save the entire new revision (or version) of that document back into CouchDB. Each revision is identified by a new `_rev` value.
- If you want to update or delete a document, CouchDB expects you to include the `_rev` field of the revision you wish to change. When CouchDB accepts the change, it will generate a new revision number. This mechanism ensures that, in case somebody else made a change without you knowing before you got to request the document update, CouchDB will not accept your update because you are likely to overwrite data you didn’t know existed. Or simplified: whoever saves a change to a document first, wins. 
- `{"error":"conflict","reason":"Document update conflict."}`: If you see this, add the latest revision number of your document to the JSON structure.
- The revision number is the MD5 hash of the transport representation of a document with an `N-` prefix denoting the number of times a document got updated. 